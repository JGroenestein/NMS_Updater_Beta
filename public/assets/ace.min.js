function handle_side_menu(){$("#menu-toggler").on("click",function(){return $("#sidebar").toggleClass("display"),$(this).toggleClass("display"),!1});var e=!1;$("#sidebar-collapse").on("click",function(){$("#sidebar").toggleClass("menu-min"),$(this.firstChild).toggleClass("icon-double-angle-right"),"menu-min"==$.cookie("SideBarCookie")?$.cookie("SideBarCookie","open",{expires:365,path:"/"}):$.cookie("SideBarCookie","menu-min",{expires:365,path:"/"}),e=$("#sidebar").hasClass("menu-min"),e&&$(".open > .submenu").removeClass("open")}),$(".nav-list").on("click",function(a){if(!e){var s=$(a.target).closest(".dropdown-toggle");if(s&&s.length>0){var i=s.next().get(0);return $(i).is(":visible")||$(".open > .submenu").each(function(){this==i||$(this.parentNode).hasClass("active")||$(this).slideUp(200).parent().removeClass("open")}),$(i).slideToggle(200).parent().toggleClass("open"),!1}}})}function enable_search_ahead(){$("#nav-search-input").typeahead({source:["Test"],updater:function(e){return $("#nav-search-input").focus(),e}})}function general_things(){$('.ace-nav [class*="icon-animated-"]').closest("a").on("click",function(){var e=$(this).find('[class*="icon-animated-"]').eq(0),a=e.attr("class").match(/icon\-animated\-([\d\w]+)/);e.removeClass(a[0]),$(this).off("click")}),$("#ace-settings-btn").on("click",function(){$(this).toggleClass("open"),$("#ace-settings-box").toggleClass("open")}),$("#ace-settings-header").removeAttr("checked").on("click",function(){this.checked?($(".navbar").addClass("navbar-fixed-top"),$(document.body).addClass("navbar-fixed")):($(".navbar").removeClass("navbar-fixed-top"),$(document.body).removeClass("navbar-fixed"),$("#ace-settings-sidebar").get(0).checked&&$("#ace-settings-sidebar").click())}),$("#ace-settings-sidebar").removeAttr("checked").on("click",function(){this.checked?($("#sidebar").addClass("fixed"),$("#ace-settings-header").get(0).checked||$("#ace-settings-header").click()):$("#sidebar").removeClass("fixed")}),$("#btn-scroll-up").on("click",function(){var e=Math.max(100,parseInt($("html").scrollTop()/3));return $("html,body").animate({scrollTop:0},e),!1}),$("#skin-colorpicker").ace_colorpicker().on("change",function(){var e=$(this).find("option:selected").data("class"),a=$(document.body);$.cookie("SkinCookie",$(this).find("option:selected").data("class"),{expires:365,path:"/"}),a.attr("class",a.hasClass("navbar-fixed")?"navbar-fixed":""),"default"!=e&&a.addClass(e),"skin-1"==e?$(".ace-nav > li.grey").addClass("dark"):$(".ace-nav > li.grey").removeClass("dark"),"skin-2"==e?($(".ace-nav > li").addClass("no-border margin-1"),$(".ace-nav > li:not(:last-child)").addClass("light-pink").find('> a > [class*="icon-"]').addClass("pink").end().eq(0).find(".badge").addClass("badge-warning")):($(".ace-nav > li").removeClass("no-border").removeClass("margin-1"),$(".ace-nav > li:not(:last-child)").removeClass("light-pink").find('> a > [class*="icon-"]').removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning")),"skin-3"==e?$(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow"):$(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow")})}function widget_boxes(){$(".widget-toolbar > a[data-action]").each(function(){var e=$(this),a=e.data("action"),s=e.closest(".widget-box");if("collapse"==a){var i=s.find(".widget-body"),n=e.find("[class*=icon-]").eq(0),o=n.attr("class").match(/icon\-(.*)\-(up|down)/),t="icon-"+o[1]+"-down",c="icon-"+o[1]+"-up";i=i.wrapInner('<div class="widget-body-inner"></div>').find(":first-child").eq(0),e.on("click",function(e){s.hasClass("collapsed")?(n&&n.addClass(c).removeClass(t),s.removeClass("collapsed"),i.slideDown(200)):(n&&n.addClass(t).removeClass(c),i.slideUp(300,function(){s.addClass("collapsed")})),e.preventDefault()}),s.hasClass("collapsed")&&n&&n.addClass(t).removeClass(c)}else"close"==a?e.on("click",function(e){s.hide(300,function(){s.remove()}),e.preventDefault()}):"reload"==a?e.on("click",function(a){e.blur();var i=!1;s.hasClass("position-relative")||(i=!0,s.addClass("position-relative")),s.append('<div class="widget-box-layer"><i class="icon-spinner icon-spin icon-2x white"></i></div>'),setTimeout(function(){s.find("> div:last-child").remove(),i&&s.removeClass("position-relative")},parseInt(1e3*Math.random()+1e3)),a.preventDefault()}):"settings"==a&&e.on("click",function(e){e.preventDefault()})})}function add_browser_detection(e){if(!e.browser){var a,s;e.uaMatch=function(e){e=e.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:a[1]||"",version:a[2]||"0"}},a=e.uaMatch(navigator.userAgent),s={},a.browser&&(s[a.browser]=!0,s.version=a.version),s.chrome?s.webkit=!0:s.webkit&&(s.safari=!0),e.browser=s}}jQuery(function(){handle_side_menu(),enable_search_ahead(),add_browser_detection(jQuery),general_things(),widget_boxes(),$(document).off("click.dropdown-menu")});